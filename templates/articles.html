{% extends "base.html" %}
{% block content %}
<link href="/static/css/articles_styles.css" rel="stylesheet">

    <form method="POST">
        {{ form.hidden_tag() }}
        {{ form.sort_by.label }} {{ form.sort_by() }}
        {{ form.ascending.label }} {{ form.ascending() }}
        {{ form.submit() }}
    </form>
    <div class="articles">
    {% for article in articles %}
        <div class="article-container">
            <h2 class="article-head">{{ article.title }}</h2>
            <p class="link-label">Link: <a href="{{ article.link }}">{{ article.link }}</a></p>
            <p class="year-label">Rok: {{ article.year }}</p>
            <p class="category-label">Kategoria: {{ article.category }}</p>
            <p class="problem-label">Opis problemu: {{ article.problem_description }}</p>
            <p class="solution-label">Opis rozwiÄ…zania: {{ article.solution_description }}</p>
            <p class="result-label">Wynik: {{ article.result }}</p>
            <p class="problems-label">Problemy: {{ article.problems }}</p>
            <p class="additional-notes-label">Dodatkowe uwagi: {{ article.additional_notes }}</p>
            <!-- TODO: Add class for author -->
            <p class="">Autor: {{ article.author }}</p>
        </div>
    </div>
    <script>
        const articles=document.querySelectorAll(".article-container");
        articles.forEach((article)=>{
            article.addEventListener("click",()=>{
                if(article.classList.contains("clicked")){
                    article.classList.remove("clicked");
                }else{
                    article.classList.add("clicked");
            }
        })
    })
    </script>
    {% endfor %}
{% endblock %}